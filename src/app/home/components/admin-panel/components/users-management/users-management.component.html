<div class="users-management-container">
  @if (employees$ | async; as employees) {
    <p-table #dt2
      [value]="employees"
      [globalFilterFields]="['fullName', 'role']">
      <ng-template pTemplate="caption">
        <div class="table-top-service">
          <h2>Список сотрудников</h2>

          <p-iconField iconPosition="left" class="ml-auto">
            <p-inputIcon>
              <i class="fi fi-rr-search"></i>
            </p-inputIcon>
            <input
              pInputText
              type="text"
              placeholder="Поиск"
              (input)="dt2.filterGlobal($event.target.value, 'contains')" />
          </p-iconField>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th style="width:30%">№ п/п</th>
          <th style="width:30%">ФИО</th>
          <th style="width:30%">Роль</th>
          <th style="width:50px"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-employee let-rowIndex="rowIndex">
        <tr>
          <td>
            {{ rowIndex + 1 }}
          </td>
          <td>
            {{ employee.fullName }}
          </td>
          <td>
            {{ employee.role }}
          </td>
          <td style="max-width: 50px">
            <button pButton icon="fi fi-rr-edit"
                      severity="secondary"
                      size="large"
                      style="width: 42px; height: 42px"
                      [rounded]="true"
                      [text]="true">
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  }
</div>
